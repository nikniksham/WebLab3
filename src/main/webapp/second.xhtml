<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<head>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
</head>

<body>
<f:view>
    <div class="wrapper">
        <div class="grid">
            <div>
                <canvas id="drawLine" width="600" height="600"></canvas>
            </div>
            <div class="container">
                <div class="pad_bot">
                    <img src="img/sad.png" alt="как же тонко" class="tonko"/>
                    <p class="sad">Тут можно задавать координаты прямо мышкой, тыкая по канвасу. Жаль, что далеко не все
                        поймут в чём же дело и как сложен js))) Действительно тонко))) Не так уж много и образованных в
                        наше время, кто знает, почему это так интересно и необычно)))
                    </p>
                    <h:form id="forma">
                        <table>
                            <tr>
                                <td><h:outputLabel value="Координата X" for="firstNumber" /></td>
                                <td><h:inputText id="firstNumber" value="#{hranitel.x}" required="true" pt:oninput="change_input_field_2(this, 0)">
                                    <f:validateDoubleRange minimum="-5" maximum="5" />
                                </h:inputText></td>
                                <td><h:message for="firstNumber" /></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel value="Координата Y" for="secondNumber" /></td>
                                <td><h:inputText id="secondNumber" value="#{hranitel.y}" required="true" pt:oninput="change_input_field_2(this, 1)">
                                    <f:validateDoubleRange minimum="-5" maximum="5" />
                                </h:inputText></td>
                                <td><h:message for="secondNumber" /></td>
                            </tr>
                            <tr>
                                <td>
                                    <h:outputLabel value="Значение R" for="rVal" />
                                </td>
                                <td>
                                    <h:commandButton id="rVal" value="1" action="#{hranitel.setR(1)}" />
                                    <h:commandButton value="2" action="#{hranitel.setR(2)}" />
                                    <h:commandButton value="3" action="#{hranitel.setR(3)}" />
                                    <h:commandButton value="4" action="#{hranitel.setR(4)}" />
                                    <h:commandButton value="5" action="#{hranitel.setR(5)}" />
                                </td>
                            </tr>
                        </table>
                        <h:commandButton id="check_hit" action="#{glavniy.addNewData}" value="Проверить попадание" class="btn"/>
                        <h:commandButton action="#{glavniy.clearData}" value="Очистить таблицу" class="btn"/>
                        <h:inputText id="r_prop" value="#{hranitel.r}" style="display:none"/>
                        <h:inputText id="r_table" value="#{hranitel.dataString}" style="display:none"/>
                    </h:form>
                </div>
            </div>
            <div class="container">
                <div class="table">
                    <table>
                        <thead>
                        <tr>
                            <th colspan="1" style="width: 10%" class="crop">X</th>
                            <th colspan="1" style="width: 10%" class="crop">Y</th>
                            <th colspan="1" style="width: 5%" class="crop">R</th>
                            <th colspan="1" style="width: 15%" class="crop">Результат</th>
                            <th colspan="1" style="width: 30%" class="crop">Выполнен в</th>
                            <th colspan="1" style="width: 30%" class="crop">Время выполнения</th>
                        </tr>
                        <h:dataTable value="#{hranitel.data}" var="tab">
                            <h:column pt:style="max-width: 10%" class='crop'>
                                #{tab.x}
                            </h:column>
                            <h:column pt:style="max-width: 10%" class='crop'>
                                #{tab.y}
                            </h:column>
                            <h:column pt:style="max-width: 5%" class='crop'>
                                #{tab.r}
                            </h:column>
                            <h:column pt:style="max-width: 15%" class='crop'>
                                #{tab.res}
                            </h:column>
                            <h:column pt:style="max-width: 30%" class='crop'>
                                #{tab.ex_at}
                            </h:column>
                            <h:column pt:style="max-width: 30%" class='crop'>
                                #{tab.ex_ti}
                            </h:column>
                        </h:dataTable>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <h:button value="Обратно на первую" outcome="toPage1"></h:button>
</f:view>
<script type="text/javascript" src="js/main.js"/>
</body>
</html>